# Migration `20200910045021`

This migration has been generated by kimjeongwonn at 9/10/2020, 4:50:21 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `prismagram`.`AuthoPayload` (
`token` varchar(191)  NOT NULL ,
`userId` varchar(191)  NOT NULL ,
UNIQUE Index `AuthoPayload.token_unique`(`token`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

ALTER TABLE `prismagram`.`AuthoPayload` ADD FOREIGN KEY (`userId`) REFERENCES `prismagram`.`User`(`id`) ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200910032509..20200910045021
--- datamodel.dml
+++ datamodel.dml
@@ -2,33 +2,40 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
 }
 model User {
-  id              String    @default(cuid()) @id
-  username        String    @unique
-  email           String    @unique
-  firstName       String?   @default("")
-  lastName        String?   @default("")
-  bio             String?   @default("")
+  id              String         @default(cuid()) @id
+  username        String         @unique
+  email           String         @unique
+  firstName       String?        @default("")
+  lastName        String?        @default("")
+  bio             String?        @default("")
   password        String
-  followers       User[]    @relation("FollowRelation", references: [id])
-  following       User[]    @relation("FollowRelation", references: [id])
+  followers       User[]         @relation("FollowRelation", references: [id])
+  following       User[]         @relation("FollowRelation", references: [id])
   posts           Post[]
   likes           Like[]
   comments        Comment[]
   rooms           Room[]
-  sendMessages    Message[] @relation("ToUser")
-  receiveMessages Message[] @relation("FromUser")
+  sendMessages    Message[]      @relation("ToUser")
+  receiveMessages Message[]      @relation("FromUser")
+  AuthoPayload    AuthoPayload[]
 }
+model AuthoPayload {
+  token        String @unique
+  approvedUser User   @relation(fields: [userId], references: [id])
+  userId       String
+}
+
 model Post {
   id       Int       @default(autoincrement()) @id
   location String?
   caption  String?
```


