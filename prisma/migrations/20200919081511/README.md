# Migration `20200919081511`

This migration has been generated by kimjeongwonn at 9/19/2020, 8:15:12 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Message" ADD COLUMN "userId" text   

ALTER TABLE "public"."Message" ADD FOREIGN KEY ("userId")REFERENCES "public"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200918083119-add-profile-image..20200919081511
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -23,11 +23,12 @@
   followings     User[]    @relation("FollowRelation")
   posts          Post[]    @relation("PostList")
   likes          Post[]    @relation("LikeList")
   comments       Comment[]
-  participatings Room[]
-  messages       Message[] @relation("SendRelation")
+  participatings Room[]    @relation(references: [id])
+  messages       Message[]
   signUpAt       DateTime  @default(now())
+  Message        Message[] @relation("SendRelation")
 }
 model Post {
   id       Int       @default(autoincrement()) @id
@@ -59,9 +60,9 @@
 }
 model Room {
   id          Int       @default(autoincrement()) @id
-  participant User[]
+  participant User[]    @relation(references: [id])
   messages    Message[]
 }
 model Message {
@@ -71,5 +72,7 @@
   fromUserId String
   room       Room     @relation(fields: [roomId], references: [id])
   roomId     Int
   timeStamp  DateTime @default(now())
+  User       User?    @relation(fields: [userId], references: [id])
+  userId     String?
 }
```


